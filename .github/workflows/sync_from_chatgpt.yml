name: SAP_HANA_PLUS_Grade

on:
  workflow_dispatch:

jobs:
  sync-chatgpt-code:
    runs-on: ubuntu-latest

    steps:
      - name: üîπ Checkout —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
        uses: actions/checkout@v4

      - name: ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git –æ—Ç –∏–º–µ–Ω–∏ specialistru
        run: |
          git config --global user.name "specialistru"
          git config --global user.email "213274794+specialistru@users.noreply.github.com"

      - name: üìÇ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ –∫–æ–º–º–∏—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
        run: |
          if [ -d "generated_code" ]; then
            git add generated_code/
            CHANGES=$(git diff --cached --name-only)
            if [ -n "$CHANGES" ]; then
              git commit -m "–∏–∑–º–µ–Ω–µ–Ω–∏—è: " -m "$CHANGES"
            else
              echo "–ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî –∫–æ–º–º–∏—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è."
            fi
          else
            echo "‚ùå –ü–∞–ø–∫–∞ generated_code –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –ü—Ä–æ–ø—É—Å–∫–∞–µ–º."
          fi

      - name: üöÄ Push –≤ –≤–µ—Ç–∫—É main
        run: git push
