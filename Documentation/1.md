
| Часть | Арх. слой / Назначение                                    | Модули (по JSON)                    |
| ----- | --------------------------------------------------------- | ----------------------------------- |
| 1     | **Storage Layer**: Column/Row Stores, Layouts, Encoding   | 32–41, 46, 107, 112, 113            |
| 2     | **Execution Layer**: Executor, Aggregation, JIT, Workload | 61–70, 103, 106, 114, 125           |
| 3     | **Planning & Optimization**                               | 53–60                               |
| 4     | **SQL Layer**: Lexer, AST, Parser, Validation             | 47–52, 122                          |
| 5     | **Transactions & MVCC**: MVCC, Locks, System Versioning   | 72–77, 75, 118                      |
| 6     | **WAL, Recovery, Backup, CDC**                            | 78–84, 123                          |
| 7     | **Replication & HA**: Stream, Consensus, RAFT             | 85–86, 104                          |
| 8     | **AuroraLang**: Parser, Compiler, Runtime, Integration    | 97–101                              |
| 9     | **API & Protocols**: Wire, REST, GraphQL, JDBC, Graph API | 87–90, 105                          |
| 10    | **Observability & Tracing**: Metrics, Health, Alerts, FTS | 91–93, 102, 115, 121                |
| 11    | **System Tasks & Extensions**: Triggers, ML, JSONB, Graph | 94, 95, 108–120, 124, 117, 116, 111 |
| 12    | **Core System & Memory**: Boot, Config, Alloc, Index, UDF | 01–31, 42–45, 71, 76, 96            |

---

| №     | Арх. слой     | Арх. блок              | Категория         | Модуль                               | Компонент (файлы)                                                                                                    | Назначение                                                                                                                                              |
| ----- | ------------- | ---------------------- | ----------------- | ------------------------------------ | -------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1.1.1 | Storage Layer | 1.1 Column Store       | Хранение          | 32 Storage/Column Store Core         | `include/storage/column_store.h`<br>`src/storage/column_store.c`                                                     | Основной in-memory движок колонкового хранения. Поддерживает векторный доступ, фильтрацию, page-level сжатие. Используется executor'ом и планировщиком. |
| 1.1.2 | Storage Layer | 1.1 Column Store       | IO/Хуки           | 34 Storage/Column IO Hooks           | `include/storage/column_io.h`<br>`src/storage/column_io.c`                                                           | Интерфейсы ввода-вывода колонок, обеспечивают расширяемость и совместимость с форматами данных.                                                         |
| 1.2.1 | Storage Layer | 1.2 Row Store          | OLTP              | 41 Storage/Row Store (Hybrid)        | `include/storage/row_store.h`<br>`src/storage/row_store.c`                                                           | Гибридный row-based стор. Подходит для OLTP-операций. Поддерживает page-level доступ, обновления и append-only операции.                                |
| 1.3.1 | Storage Layer | 1.3 Layouts            | PAX Layout        | 39 Layout/PAX                        | `include/storage/layout_pax.h`<br>`src/storage/layout_pax.c`                                                         | Представление в виде PAX-блоков, сочетает преимущества row- и column-based layout. Используется в mixed workload.                                       |
| 1.3.2 | Storage Layer | 1.3 Layouts            | Arrow Layout      | 40 Layout/Arrow                      | `include/storage/layout_arrow.h`<br>`src/storage/layout_arrow.c`                                                     | Layout по спецификации Apache Arrow. Поддержка внешних аналитических фреймворков.                                                                       |
| 1.4.1 | Storage Layer | 1.4 Segment Management | Аллокация         | 33 Storage/Segment Manager           | `include/storage/segment_mgr.h`<br>`src/storage/segment_mgr.c`                                                       | Управление сегментами: alloc/free, recycle. Используется всеми хранилищами.                                                                             |
| 1.5.1 | Storage Layer | 1.5 Index Storage      | Пространство      | 46 Storage/Free Space & Checkers     | `include/storage/freespace.h`<br>`src/storage/freespace.c`<br>`include/storage/checker.h`<br>`src/storage/checker.c` | Управление свободным пространством страниц, битмапы, консистентность, page-level проверки.                                                              |
| 1.6.1 | Storage Layer | 1.6 Encoding           | Dictionary        | 35 Encoding/Dictionary               | `include/storage/encode_dict.h`<br>`src/storage/encode_dict.c`                                                       | Словарное сжатие, особенно эффективно для категориальных колонок. Используется в Column Store.                                                          |
| 1.6.2 | Storage Layer | 1.6 Encoding           | FOR               | 36 Encoding/Frame-of-Reference       | `include/storage/encode_for.h`<br>`src/storage/encode_for.c`                                                         | Frame-of-Reference (FOR): относительное сжатие чисел по anchor-значению.                                                                                |
| 1.6.3 | Storage Layer | 1.6 Encoding           | RLE               | 37 Encoding/Run-Length               | `include/storage/encode_rle.h`<br>`src/storage/encode_rle.c`                                                         | Run-Length Encoding: эффективно при длинных последовательностях повторов (NULL, флаги и т.п.).                                                          |
| 1.6.4 | Storage Layer | 1.6 Encoding           | Bitpacking        | 38 Encoding/Bitpack (storage-level)  | `include/storage/encode_bitpack.h`<br>`src/storage/encode_bitpack.c`                                                 | Побитовое сжатие значений (int, bool, enum). Используется в компрессии уровнем ниже FOR.                                                                |
| 1.6.5 | Storage Layer | 1.6 Encoding           | Dictionary Global | 113 Encoding/Global Dictionary Index | `include/storage/encode_dict_global.h`<br>`src/storage/encode_dict_global.c`                                         | Глобальный словарь, используемый между сегментами и партициями. Обеспечивает более высокий коэффициент сжатия.                                          |
| 1.7.1 | Storage Layer | 1.7 Tiered Storage     | Многоуровневость  | 107 Storage/Tiering Manager          | `include/storage/tiering.h`<br>`src/storage/tiering.c`                                                               | Tiered-хранилище: управление уровнями данных (in-memory → SSD → cold). Автоматическое перемещение данных по политике.                                   |
| 1.8.1 | Storage Layer | 1.8 Persistent Memory  | PMEM              | 112 Storage/Persistent Memory        | `include/storage/pmem.h`<br>`src/storage/pmem.c`                                                                     | Работа с энергонезависимой памятью (Persistent Memory). Быстрое восстановление без WAL.                                                                 |
| 2.1.1 | Execution Layer | 2.1 Executor Core    | Планировщик        | 61 Executor/Core                  | `include/executor/executor.h`<br>`src/executor/executor.c`                                                           | Центральный компонент для запуска и управления SQL-планом. Инициализация, итерация, завершение, контроль состояния. |
| 2.1.2 | Execution Layer | 2.1 Executor Core    | Итераторы          | 62 Executor/Iterators             | `include/executor/iter.h`<br>`src/executor/iter.c`                                                                   | Интерфейс pull-based итерации для всех узлов плана. Абстрагирует получение следующей строки.                        |
| 2.1.3 | Execution Layer | 2.1 Executor Core    | NUMA Планировщик   | 103 Executor/NUMA-Aware Scheduler | `include/executor/sched_numa.h`<br>`src/executor/sched_numa.c`                                                       | NUMA-aware планировщик для выделения задач по топологии узлов памяти/CPU.                                           |
| 2.1.4 | Execution Layer | 2.1 Executor Core    | Workload Классы    | 114 Scheduler/Workload Classes    | `include/executor/workload.h`<br>`src/executor/workload.c`                                                           | Классификатор запросов (OLTP, OLAP, background). Используется при адаптивном планировании.                          |
| 2.2.1 | Execution Layer | 2.2 Join Execution   | Join API           | 63 Executor/Join (API)            | `include/executor/join.h`                                                                                            | Интерфейс API для join-исполнителей. Используется при генерации плана и построении хэш-таблиц.                      |
| 2.2.2 | Execution Layer | 2.2 Join Execution   | Hash Join          | 64 Executor/Join/Hash             | `src/executor/join_hash.c`                                                                                           | Реализация хэш-соединения. Стадии build + probe, поддержка одно- и много-табличных join'ов.                         |
| 2.2.3 | Execution Layer | 2.2 Join Execution   | Merge Join         | 65 Executor/Join/Merge            | `src/executor/join_merge.c`                                                                                          | Соединение на отсортированных входах. Используется для range-join и sort-merge.                                     |
| 2.2.4 | Execution Layer | 2.2 Join Execution   | Nested Loop Join   | 66 Executor/Join/NestedLoop       | `src/executor/join_nestedloop.c`                                                                                     | Простое вложенное соединение. Используется как fallback для edge-cases или маленьких таблиц.                        |
| 2.3.1 | Execution Layer | 2.3 Aggregation      | Group & Aggregate  | 67 Executor/Group & Aggregation   | `include/executor/group.h`<br>`src/executor/group.c`<br>`include/executor/aggregate.h`<br>`src/executor/aggregate.c` | Поддержка агрегатных функций, GROUP BY, HASH/GLOBAL aggregation.                                                    |
| 2.4.1 | Execution Layer | 2.4 Sorting          | ORDER BY, TOP-K    | 68 Executor/Sort & Top-K          | `include/executor/sort.h`<br>`src/executor/sort.c`                                                                   | Реализация сортировки, в том числе с ограничением по количеству (LIMIT / TOP K).                                    |
| 2.5.1 | Execution Layer | 2.5 Window Functions | Аналитика          | 69 Executor/Window Functions      | `include/executor/window.h`<br>`src/executor/window.c`                                                               | Оконные функции: RANK, LAG, LEAD, PARTITION BY, FRAME. Поддержка full-spec окон.                                    |
| 2.6.1 | Execution Layer | 2.6 Expressions      | Expr Engine        | 70 Executor/Expression Engine     | `include/executor/expr.h`<br>`src/executor/expr.c`                                                                   | Интерпретация выражений: арифметика, логика, функции, CASE, вложенные expr.                                         |
| 2.7.1 | Execution Layer | 2.7 AuroraLang Exec  | Интеграция PL      | 101 AuroraLang/Integration        | `src/executor/lang_exec.c`                                                                                           | Вызов процедур AuroraLang как узлов плана. Поддерживает `CALL`, `FOREACH`, `RETURN`.                                |
| 2.8.1 | Execution Layer | 2.8 Calc Engine      | Графы и вычисления | 106 Execution/Calculation Engine  | `include/executor/calc_graph.h`<br>`src/executor/calc_graph.c`                                                       | Исполнение вычислительных графов. Используется в ML, UDF, предсказаниях, graph queries.                             |
| 2.9.1 | Execution Layer | 2.9 JIT Compiler     | LLVM               | 125 JIT/AOT Compiler (Expr LLVM)  | `include/executor/jit_llvm.h`<br>`src/executor/jit_llvm.c`                                                           | JIT/AOT-компиляция выражений и фильтров с помощью LLVM. Ускорение исполнения.                                       |
| 3.1.1 | Planning Layer     | 3.1 Logical Planning  | Генерация плана         | 53 Planner/Logical Plan    | `include/plan/plan.h`<br>`src/plan/plan.c`           | Создание логического представления запроса: scan, joins, filters, project. Работает на AST.     |
| 3.1.2 | Planning Layer     | 3.1 Logical Planning  | Кэширование             | 58 Planner/Plan Cache      | `include/plan/cache.h`<br>`src/plan/cache.c`         | План-кэширование: сохранение логических и физических планов для ускорения повторных запросов.   |
| 3.1.3 | Planning Layer     | 3.1 Logical Planning  | Подсказки               | 59 Planner/Hints           | `include/plan/hints.h`<br>`src/plan/hints.c`         | Обработка SQL-подсказок (`USE INDEX`, `JOIN ORDER`, и др.).                                     |
| 3.1.4 | Planning Layer     | 3.1 Logical Planning  | EXPLAIN-план            | 60 Planner/Explainer       | `include/plan/explain.h`<br>`src/plan/explain.c`     | Форматирование и вывод EXPLAIN-планов для пользователя.                                         |
| 3.2.1 | Optimization Layer | 3.2 Rule-Based Opt    | Переписывание           | 54 Planner/Rule Engine     | `include/plan/rules.h`<br>`src/plan/rules.c`         | Правила трансформации: pushdown предикатов, слияние joins, оптимизация фильтров.                |
| 3.3.1 | Optimization Layer | 3.3 Cost Estimation   | Модель стоимости        | 55 Optimizer/Cost Model    | `include/opt/cost.h`<br>`src/opt/cost.c`             | Расчёт стоимости операций: join, sort, scan. Используется для выбора физического плана.         |
| 3.3.2 | Optimization Layer | 3.3 Cost Estimation   | Join Order Optimization | 56 Optimizer/Join Order    | `include/opt/join_order.h`<br>`src/opt/join_order.c` | Вычисление оптимального порядка соединений таблиц. Использует динамическое программирование.    |
| 3.4.1 | Optimization Layer | 3.4 Physical Planning | Физический план         | 57 Optimizer/Physical Plan | `include/opt/physical.h`<br>`src/opt/physical.c`     | Преобразование логического дерева в физическое: выбор exec-узлов, join-стратегий, scan-методов. |
| 4.1.1 | SQL Layer | 4.1 Lexer         | Токенизация           | 47 SQL/Lexer                        | `include/sql/lexer.h`<br>`src/sql/lexer.c`                           | Лексический анализ SQL-кода. Делит SQL-строку на токены: идентификаторы, операторы, литералы.               |
| 4.2.1 | SQL Layer | 4.2 AST           | Синтаксическое дерево | 48 SQL/AST Core                     | `include/sql/ast.h`<br>`src/sql/ast.c`                               | Абстрактное синтаксическое дерево (AST) для SQL-операторов: SELECT, INSERT, UPDATE и др.                    |
| 4.3.1 | SQL Layer | 4.3 Parser DDL    | CREATE, ALTER         | 49 SQL/Parser DDL                   | `include/sql/parser_ddl.h`<br>`src/sql/parser_ddl.c`                 | Парсинг DDL-запросов: `CREATE TABLE`, `ALTER TABLE`, `DROP`, и др.                                          |
| 4.3.2 | SQL Layer | 4.3 Parser DML    | SELECT, INSERT        | 50 SQL/Parser DML                   | `include/sql/parser_dml.h`<br>`src/sql/parser_dml.c`                 | Парсинг DML-запросов: `SELECT`, `INSERT`, `UPDATE`, `DELETE`.                                               |
| 4.4.1 | SQL Layer | 4.4 Validator     | Проверка семантики    | 51 SQL/Validate & Rewrite           | `include/sql/validate.h`<br>`src/sql/validate.c`                     | Семантическая проверка запросов: типы, имена таблиц, ограничения, допустимость выражений.                   |
| 4.4.2 | SQL Layer | 4.4 Preprocessor  | Переписывание         | 51 SQL/Validate & Rewrite           | `include/sql/rewrite.h`<br>`src/sql/rewrite.c`                       | Переписывание AST перед планированием: подстановка `*`, нормализация `WHERE`, inlining.                     |
| 4.5.1 | SQL Layer | 4.5 Functions     | Регистрация функций   | 52 SQL/Functions Registry           | `include/sql/functions/registry.h`<br>`src/sql/functions/registry.c` | Регистрация SQL-функций, маппинг их в expression engine и AuroraLang runtime.                               |
| 4.6.1 | SQL Layer | 4.6 Virtual Table | Источники внешние     | 122 Virtual Tables / Remote Sources | `include/sql/virtual_table.h`<br>`src/sql/virtual_table.c`           | Поддержка виртуальных таблиц (runtime-definable): SQL-интерфейс к внешним источникам, API, временные views. |
| 5.1.1 | TX Layer  | 5.1 Transaction Core  | Транзакции            | 72 TXN/Core                         | `include/txn/txn.h`<br>`src/txn/txn.c`                                                                                                 | Управление транзакциями: begin, commit, rollback. Поддержка уровней изоляции и жизненного цикла транзакций. |
| 5.2.1 | TX Layer  | 5.2 MVCC Visibility   | Версионность          | 73 MVCC/Visibility                  | `include/txn/mvcc.h`<br>`src/txn/mvcc.c`<br>`include/txn/visibility.h`<br>`src/txn/visibility.c`                                       | Поддержка snapshot isolation. Вычисление видимости версий строк для транзакций.                             |
| 5.2.2 | TX Layer  | 5.2 MVCC GC           | Очистка               | 74 MVCC/Garbage Collection          | `include/txn/gc.h`<br>`src/txn/gc.c`                                                                                                   | Удаление устаревших невидимых версий строк (tuple GC).                                                      |
| 5.3.1 | TX Layer  | 5.3 Locking           | Блокировки            | 75 Locks & Latches                  | `include/txn/lock.h`<br>`src/txn/lock.c`<br>`include/concurrency/latch.h`<br>`src/concurrency/latch.c`                                 | Поддержка строковых, табличных и page-level блокировок. Latch для защиты общих структур.                    |
| 5.4.1 | TX Layer  | 5.4 Triggers & Checks | Ограничения, триггеры | 76 Constraints & Triggers (runtime) | `include/schema/constraints_runtime.h`<br>`src/schema/constraints_runtime.c`<br>`include/schema/triggers.h`<br>`src/schema/triggers.c` | Проверка ограничений на уровне исполнения. Поддержка BEFORE/AFTER триггеров.                                |
| 5.5.1 | TX Layer  | 5.5 System Versioning | AS OF                 | 77 System Versioned (AS OF)         | `include/txn/system_versioned.h`<br>`src/txn/system_versioned.c`                                                                       | Хранение версии строки по системному времени (`AS OF SYSTEM TIME`).                                         |
| 5.6.1 | TX Layer  | 5.6 Temporal Tables   | Временная модель      | 118 Temporal Tables (AS OF)         | `include/txn/temporal.h`<br>`src/txn/temporal.c`                                                                                       | Поддержка valid-time/transaction-time моделей. Интервалы действия данных, temporal joins.                   |
| 6.1.1 | Durability Layer | 6.1 Write-Ahead Logging | WAL (основной)          | 78 WAL/Core                   | `include/durability/wal.h`<br>`src/durability/wal.c`                                                                                               | Основной механизм WAL: запись всех изменений до применения. Используется для восстановления и репликации.     |
| 6.1.2 | Durability Layer | 6.1 Write-Ahead Logging | Сегменты и Retention    | 79 WAL/Segments & Retention   | `include/durability/wal_segments.h`<br>`src/durability/wal_segments.c`<br>`include/durability/wal_retention.h`<br>`src/durability/wal_retention.c` | Управление WAL-сегментами: ротация, удаление, удержание по времени или размеру.                               |
| 6.2.1 | Durability Layer | 6.2 Snapshot Isolation  | Snapshot                | 80 Snapshot                   | `include/durability/snapshot.h`<br>`src/durability/snapshot.c`                                                                                     | Снимки состояния таблиц и MVCC для point-in-time recovery и аналитики.                                        |
| 6.3.1 | Durability Layer | 6.3 Checkpointing       | Checkpoint Core         | 81 Checkpoint & Scheduler     | `include/durability/checkpoint.h`<br>`src/durability/checkpoint.c`                                                                                 | Периодическая фиксация данных в стабильное состояние. Сокращает время восстановления.                         |
| 6.3.2 | Durability Layer | 6.3 Checkpointing       | Планировщик             | 81 Checkpoint & Scheduler     | `include/durability/check_sched.h`<br>`src/durability/check_sched.c`                                                                               | Планирование и управление запуском checkpoint-процессов.                                                      |
| 6.4.1 | Durability Layer | 6.4 Crash Recovery      | Recovery                | 82 Recovery                   | `include/durability/recovery.h`<br>`src/durability/recovery.c`                                                                                     | Механизмы восстановления после сбоя. Чтение WAL и rollforward данных.                                         |
| 6.5.1 | Durability Layer | 6.5 Crash Testing       | Fault Injection         | 83 Crash-safety Tests (hooks) | `include/durability/test_inject.h`<br>`src/durability/test_inject.c`                                                                               | Хуки для моделирования отказов. Используются в CI для тестирования crash-consistency.                         |
| 6.6.1 | Durability Layer | 6.6 Backup & Restore    | Резервное копирование   | 84 Backup & Restore           | `include/durability/backup.h`<br>`src/durability/backup.c`<br>`include/durability/restore.h`<br>`src/durability/restore.c`                         | Механизмы создания резервных копий и восстановления. Поддержка полной и инкрементальной стратегии.            |
| 6.7.1 | Durability Layer | 6.7 Change Data Capture | CDC (streaming updates) | 123 Change Data Capture (CDC) | `include/durability/cdc.h`<br>`src/durability/cdc.c`                                                                                               | Поддержка Change Data Capture — экспорт изменений в реальном времени для интеграции, логирования и стриминга. |
| 7.1.1 | Replication Layer | 7.1 WAL Streaming     | Репликация WAL         | 85 Replication/Stream (Sender/Receiver + Modes) | `include/replication/stream.h`<br>`src/replication/stream.c`<br>`include/replication/walsender.h`<br>`src/replication/walsender.c`<br>`include/replication/walreceiver.h`<br>`src/replication/walreceiver.c`<br>`include/replication/mode.h`<br>`src/replication/mode.c` | Потоковая доставка WAL-записей между узлами. Поддержка режимов `async`, `sync`, `quorum`, `logical`.    |
| 7.2.1 | Replication Layer | 7.2 Consensus Core    | Консенсус, state sync  | 86 HA/Consensus & Conflict                      | `include/replication/consensus.h`<br>`src/replication/consensus.c`                                                                                                                                                                                                       | Согласование состояния между узлами. Используется при failover, избрании ведущего и совместном решении. |
| 7.2.2 | Replication Layer | 7.2 Conflict Handling | Разрешение конфликтов  | 86 HA/Consensus & Conflict                      | `include/replication/conflict.h`<br>`src/replication/conflict.c`                                                                                                                                                                                                         | Разрешение конфликтов в multi-leader или delayed replica сценариях.                                     |
| 7.3.1 | Replication Layer | 7.3 RAFT Protocols    | Протоколы согласования | 104 Replication/Consensus Protocols             | `include/replication/raft.h`<br>`src/replication/raft.c`<br>`include/replication/quorum.h`<br>`src/replication/quorum.c`                                                                                                                                                 | Реализация RAFT-протокола. Поддержка leader election, логов, согласования и квормов.                    |
| 8.1.1 | AuroraLang | 8.1 Ядро ЯП            | API            | 97 AuroraLang/Core          | `include/lang/lang.h`<br>`src/lang/lang.c`             | Основной интерфейс языка AuroraLang. Регистрация, выполнение процедур и встроенных функций.               |
| 8.2.1 | AuroraLang | 8.2 Парсинг            | Лексер         | 98 AuroraLang/Parser & AST  | `include/lang/parser.h`<br>`src/lang/parser.c`         | Лексер AuroraLang: токенизация кода, операторов, литералов.                                               |
| 8.2.2 | AuroraLang | 8.2 Парсинг            | AST            | 98 AuroraLang/Parser & AST  | `include/lang/ast.h`<br>`src/lang/ast.c`               | Построение абстрактного синтаксического дерева (AST) для процедур, функций, условных операторов.          |
| 8.3.1 | AuroraLang | 8.3 Компиляция         | Bytecode       | 99 AuroraLang/Compiler & VM | `include/lang/compiler.h`<br>`src/lang/compiler.c`     | Генерация IR/байткода из AST. Поддержка вложенных вызовов, циклов, переменных, UDF.                       |
| 8.3.2 | AuroraLang | 8.3 Виртуальная машина | VM             | 99 AuroraLang/Compiler & VM | `include/lang/vm.h`<br>`src/lang/vm.c`                 | Виртуальная машина (VM) для безопасного исполнения байткода. Поддержка стека, sandbox, panic-recovery.    |
| 8.4.1 | AuroraLang | 8.4 Runtime            | Библиотека     | 100 AuroraLang/Runtime      | `include/lang/runtime.h`<br>`src/lang/runtime.c`       | Встроенные функции языка: log(), assert(), курсоры, JSON-операции, переменные и foreach.                  |
| 8.5.1 | AuroraLang | 8.5 Интеграция в ядро  | Executor + SQL | 101 AuroraLang/Integration  | `src/executor/lang_exec.c`<br>`src/sql/lang_support.c` | Встраивание процедур в план выполнения: `CALL`, `CREATE PROCEDURE`, триггеры. Узел исполнения в executor. |
| 9.1.1 | API Layer | 9.1 Wire Protocol | Двоичный протокол  | 88 Wire Protocol                   | `include/protocol/protocol.h`<br>`include/protocol/codec.h`<br>`src/protocol/protocol.c`<br>`src/protocol/codec.c` | Низкоуровневый протокол обмена между клиентом и сервером. Поддерживает multiplexing, сжатие, бинарные данные. |
| 9.2.1 | API Layer | 9.2 C API         | Встраиваемый C API | 89 Public API/C                    | `include/api/c_api.h`<br>`src/api/c_api.c`                                                                         | Программный интерфейс для вызова SQL-запросов из C-приложений и расширений на C.                              |
| 9.3.1 | API Layer | 9.3 REST API      | HTTP JSON API      | 90 Public APIs/REST+GraphQL+JDBC   | `include/api/rest_api.h`<br>`src/api/rest_api.c`                                                                   | REST-интерфейс для SQL-запросов, DDL, мониторинга, метрик. Использует JSON over HTTP.                         |
| 9.3.2 | API Layer | 9.3 GraphQL API   | Гибкие запросы     | 90 Public APIs/REST+GraphQL+JDBC   | `include/api/graphql.h`<br>`src/api/graphql.c`                                                                     | GraphQL-интерфейс для построения сложных JSON-ответов и гибких запросов данных.                               |
| 9.3.3 | API Layer | 9.3 JDBC Driver   | JDBC               | 90 Public APIs/REST+GraphQL+JDBC   | `include/api/jdbc.h`<br>`src/api/jdbc.c`                                                                           | Поддержка JDBC-подключения для Java-приложений. Реализация драйвера AuroraJDBC.                               |
| 9.4.1 | API Layer | 9.4 Graph & JSON  | Graph API          | 105 Graph/JSON/Document Extensions | `include/api/graph_api.h`<br>`src/api/graph_api.c`                                                                 | REST/Graph API для работы с графовыми структурами: вершины, рёбра, пути.                                      |
| 9.4.2 | API Layer | 9.4 Graph & JSON  | JSONPath API       | 105 Graph/JSON/Document Extensions | `include/api/json_path.h`<br>`src/api/json_path.c`                                                                 | JSONPath-интерфейс для работы с вложенными JSON-документами. Поддержка фильтрации и выборки.                  |
| 9.4.3 | API Layer | 9.4 Graph & JSON  | Document API       | 105 Graph/JSON/Document Extensions | `include/api/document_store.h`<br>`src/api/document_store.c`                                                       | API для работы с коллекциями документов, аналог NoSQL-интерфейса.                                             |
| 10.1.1 | Observability | 10.1 Метрики              | Metrics API        | 91 Observability/Metrics               | `include/obs/metrics.h`<br>`src/obs/metrics.c`                                                   | Сбор внутренних метрик (производительность, время, размер, загрузка). Поддержка экспорта Prometheus.  |
| 10.2.1 | Observability | 10.2 Трассировка          | Tracing API        | 92 Observability/Tracing               | `include/obs/tracing.h`<br>`src/obs/tracing.c`                                                   | Поддержка распределённой трассировки: spans, trace id, цепочки вызовов. Интеграция с Jaeger/Zipkin.   |
| 10.3.1 | Observability | 10.3 Health               | Health API         | 93 Observability/Health                | `include/obs/health.h`<br>`src/obs/health.c`                                                     | Проверка жизнеспособности и готовности сервера (`/health`, liveness/readiness).                       |
| 10.4.1 | Observability | 10.4 Alerting & Events    | Алерты и Telemetry | 102 Observability/Alerting & Telemetry | `include/obs/alert.h`<br>`src/obs/alert.c`<br>`include/obs/telemetry.h`<br>`src/obs/telemetry.c` | Генерация событий, алертов, телеметрии для отладки и мониторинга.                                     |
| 10.5.1 | Observability | 10.5 Query Timeline       | Анализ запроса     | 115 Analytics/Query Timeline           | `include/obs/query_timeline.h`<br>`src/obs/query_timeline.c`                                     | Временная диаграмма выполнения запроса. Используется для анализа плана и поиска узких мест.           |
| 10.6.1 | Observability | 10.6 Полнотекстовый Поиск | FTS + Tokenizer    | 121 FTS/Fuzzy/Tokenizer Engine         | `include/fts/fts.h`<br>`src/fts/fts.c`<br>`include/fts/tokenizer.h`<br>`src/fts/tokenizer.c`     | Поддержка полнотекстового поиска: индексирование текста, лемматизация, fuzzy match, tokenizer engine. |
| 11.1.1 | System Layer    | 11.1 Background Scheduler | Планировщик задач   | 108 Tasks/Scheduler                 | `include/system/scheduler.h`<br>`src/system/scheduler.c`                                                                                                   | Планировщик фоновых задач: анализ, сбор статистики, чекпоинты, отложенные действия.                     |
| 11.1.2 | System Layer    | 11.2 Event Triggers       | Событийные триггеры | 109 Tasks/Event Triggers            | `include/system/event_trigger.h`<br>`src/system/event_trigger.c`                                                                                           | Триггеры на системные события: DDL, старты транзакций, мониторинг.                                      |
| 11.1.3 | System Layer    | 11.3 Background Framework | Воркеры             | 120 Background Tasks Framework      | `include/system/bg_task.h`<br>`src/system/bg_task.c`                                                                                                       | Фреймворк управления фоновой многопоточностью: очереди задач, воркеры, повторяемые процессы.            |
| 11.2.1 | Extension Layer | 11.4 ML API               | Machine Learning    | 124 Machine Learning/Prediction API | `include/ml/predict_api.h`<br>`src/ml/predict_api.c`                                                                                                       | API для запуска предсказательных моделей, инференса, поддержки встроенных моделей.                      |
| 11.3.1 | Extension Layer | 11.5 JSONB Store          | JSONB-хранилище     | 117 Document Store (JSONB)          | `include/json/jsonb.h`<br>`src/json/jsonb.c`                                                                                                               | Поддержка хранения, запроса, индексации вложенных JSON-документов (аналог PostgreSQL JSONB).            |
| 11.4.1 | Extension Layer | 11.6 Graph Engine         | Графовый движок     | 116 Graph Engine/Core               | `include/graph/graph_api.h`<br>`src/graph/graph_api.c`<br>`include/graph/vertex.h`<br>`src/graph/vertex.c`<br>`include/graph/edge.h`<br>`src/graph/edge.c` | Нативная поддержка графов: создание вершин/рёбер, обходы, аналитика.                                    |
| 11.5.1 | Admin Tools     | 11.7 CLI & Manpage        | CLI                 | 95 Admin Tools (CLI & Manpage)      | `include/admin/cli_shell.h`<br>`src/admin/cli_shell.c`<br>`include/admin/manpage.h`<br>`src/admin/manpage.c`                                               | Интерактивный CLI-интерфейс + встроенная документация по командам (man).                                |
| 11.6.1 | Observability   | 11.8 Plan Visualizer      | Debug Tools         | 110 Tools/Plan Visualizer Export    | `include/tools/planviz.h`<br>`src/tools/planviz.c`                                                                                                         | Визуализация и экспорт планов в формат совместимый с внешними визуализаторами (например, SVG/Graphviz). |
| 11.7.1 | Security        | 11.9 Audit Logging        | Аудит               | 111 Security/Audit Log              | `include/security/audit.h`<br>`src/security/audit.c`                                                                                                       | Журналирование доступа, изменений, административных действий. Используется в безопасных средах.         |
| 11.8.1 | IO Layer        | 11.10 Parquet & Avro      | Загрузка данных     | 119 Ingestion/Parquet & Avro        | `include/io/parquet_loader.h`<br>`src/io/parquet_loader.c`<br>`include/io/avro_loader.h`<br>`src/io/avro_loader.c`                                         | Загрузка структурированных данных из форматов Parquet и Avro.                                           |
| 11.9.1 | Observability   | 11.11 Perf Tools          | Производительность  | 94 Tools/Perf Tools                 | `include/tools/perf_tools.h`<br>`src/tools/perf_tools.c`                                                                                                   | Инструменты низкоуровневого анализа производительности, профилирования, трекинга меток времени.         |
| 12.1.1  | Entry Layer     | 12.1 Main Startup        | main + сигналы    | 01 Entry/Main.                  | `include/core/main/*.h`<br>`src/core/main/*.c`<br>`src/main.c`                                       | Точка входа и инициализация сервера. Управление PID, startup info, сигналы завершения.          |
| 12.1.2  | Entry Layer     | 12.2 Service Runtime     | POSIX/Win service | 02 Entry/Service                | `include/core/service/*.h`<br>`src/core/service/*.c`                                                 | Запуск как системного сервиса. Поддержка POSIX daemon и Windows service.                        |
| 12.2.1  | Bootstrap Layer | 12.3 Paths & Profile     | Boot config       | 03–04 Bootstrap/\*              | `include/core/bootstrap/*.h`<br>`src/core/bootstrap/*.c`                                             | Загрузка переменных среды, путей, профилей, fail-fast инициализации.                            |
| 12.3.1  | Config Layer    | 12.4 Configuration       | Параметры         | 12 Config/Core + CLI + Profiles | `include/config/*.h`<br>`src/config/*.c`                                                             | Настройки сервера, профили, CLI-параметры, конфигурационные файлы.                              |
| 12.4.1  | Memory Layer    | 12.5 Allocators          | Память            | 16–23 Memory/\*                 | `include/mem/*.h`<br>`src/mem/*.c`                                                                   | Аллокаторы: arena, slab, varint, bitpacking, NUMA-aware, SIMD-примитивы.                        |
| 12.5.1  | Core Layer      | 12.6 Errors & Logging    | Ошибки и логи     | 05, 09–11 Logging/\*            | `include/common/errors.h`<br>`src/common/errors.c`<br>`include/common/log*.h`<br>`src/common/log*.c` | Журналирование событий, syslog, stderr, binlog, log rotate. Обработка и генерация кодов ошибок. |
| 12.6.1  | Schema Layer    | 12.7 Таблицы и колонки   | Схема таблиц      | 24–30 Schema/\*                 | `include/schema/*.h`<br>`src/schema/*.c`                                                             | Описание типов, колонок, ограничений, таблиц, партиций, статистики, разрешения имён.            |
| 12.7.1  | Index Layer     | 12.8 Index Engines       | Индексация        | 42–45 Index/\*                  | `include/index/*.h`<br>`src/index/*.c`                                                               | Индексы B-Tree, Hash, Inverted, поддержка обновлений и обслуживания.                            |
| 12.8.1  | UDF Layer       | 12.9 UDF Bridge          | Расширения на C   | 71 UDF/Runtime Bridge           | `include/udf/*.h`<br>`src/udf/*.c`                                                                   | Регистрация и вызов UDF/UDAF на C. Мост между SQL и функциями на C.                             |
| 12.9.1  | Security Layer  | 12.10 Labels             | Мета-безопасность | 31 Security/Labels (metadata)   | `include/security/labels.h`<br>`src/security/labels.c`                                               | Метки безопасности объектов. Используется для разграничения доступа и trace-меток.              |
| 12.10.1 | Build Layer     | 12.11 Version & Platform | Сборка и инфо     | 96 Build/Version/Platform       | `include/build/*.h`<br>`src/build/*.c`                                                               | Информация о версии, сборке, платформе. Выводится в CLI, REST, логах и EXPLAIN.                 |
